# try_github_actions — 設計ドキュメント

目的
--
- このリポジトリは GitHub Actions の学習・実験用に維持する。

スコープ
--
- 軽量なワークフロー（ラベリング、lint、テスト、ビルド）の作成とコスト計測。
- ワークフローは主に GitHub-hosted runners（Linux）で実行する前提。

現在の構成
--
- `.github/workflows/pr-size-label.yml`: PR の変更行数に応じて `size/XS..XL` のラベルを付与するワークフロー。
- `.github/agents/japanese-agent.md`: GitHub Copilot Coding Agent の動作をカスタマイズする日本語対応エージェント設定。

設計上の判断と理由
--
- ラベル閾値（現状）:
  - XS: <10 行
  - S: 10–49 行
  - M: 50–199 行
  - L: 200–499 行
  - XL: >=500 行

- 理由: シンプルな行数ベースの分類は実装が容易で理解しやすいため。将来的にファイル数やバイナリ差分の重み付けを検討する。

運用メモ
--
- `GITHUB_TOKEN` を使ってラベル操作を行う。フォーク PR の場合は権限制限に注意（`pull_request_target` が必要なケースあり）。
- 大量の PR がある場合は API 呼び出し回数やランナーコストを監視する。

今後の改善案
--
- ラベル付与の条件に「ファイル種別の重み付け」を追加（例: ドキュメントは軽く、コードは重く評価）。
- ランナーの実行時間とコストを自動計測して日次レポートを生成。
